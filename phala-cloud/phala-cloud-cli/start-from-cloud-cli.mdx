---
description: Est. 4-5 Minutes
title: Deploy CVM
---


<Note type="warning">
Make sure you have gone through the [Sign-up for Cloud Account](/phala-cloud/getting-started/sign-up-for-cloud-account) section before continuing.
</Note>

## Prerequisites

* [Docker](https://docker.com) installed and running
  * (optional) Use [Orbstack ](https://orbstack.dev)as an alternative to Docker Desktop
* Node & [Bun](https://bun.sh) or npx installed
* [Docker Hub](https://hub.docker.com/) account for publishing images
* [Phala Cloud](https://cloud.phala.network/register?invite=PHALAWIKI) API key

## Installation

Install globally or use `npx`or `bunx` in this tutorial we will use `npx`to call the Phala Cloud CLI.

```bash
# Skip build install globally 
npm install -g phala
# use npx phala
npx phala
# or use bunx
bunx phala
```

## Log into Phala Cloud Account

First we will log into the Phala Cloud with your account. If you have not signed up for an account and you are in the terminal, follow the steps in **Sign Up for an Account via CLI** below. Otherwise, skip to [#generate-a-phala-cloud-api-key](#generate-a-phala-cloud-api-key "mention").

<details>

<summary>Sign Up for an Account via CLI</summary>

Run `npx phala free`to get started with your Phala Cloud account and a free CVM deployment.

```bash
npx phala free
```

This will open a browser to the Phala Cloud sign-up page. Get your free account then get started on generating your Phala Cloud API Key.

<Frame caption="Signup Page">
    <img src="/images/image (12).png" alt="Phala Cloud registration page with sign up form" />

</Frame>

</details>

## Generate a Phala Cloud API Key

Log into your dashboard and select the logo in the top left corner.

<Frame>
    <img src="/images/Screenshot 2025-02-27 at 11.42.32.png" alt="Phala Cloud dashboard with logo highlighted in top left corner" />
</Frame>

Click your username and select "**API Tokens**".

<Frame>
    <img src="/images/Screenshot 2025-02-27 at 11.45.13.png" alt="User dropdown menu with API Tokens option highlighted" />
</Frame>

Click Create Token and then copy your newly generated API Key.

<Frame>
    <img src="/images/image (2) (1) (1) (1).png" alt="API token creation interface with newly generated token displayed" />
</Frame>

With your API Key in hand, authenticate your CLI:

```bash
npx phala auth login
```

When prompted, paste your API Key. The CLI will confirm successful authentication.

```
phala auth login
‚úî Enter your API key: ‚Ä¶ ************************************************
‚úì Welcome hashwarlock! API key validated and saved successfully
‚Ñπ Open in Web UI at https://cloud.phala.network/dashboard/
```

Congratulations! You've now set up the Phala Cloud CLI and authenticated your account. You're ready to start deploying and managing confidential applications on Phala Cloud.

Remember, you can always check your authentication status with:

```bash
npx phala auth status
```

```bash
‚ü≥ Checking authentication status... ‚úì

‚úì Authenticated as hashwarlock
‚îÇ Username   ‚îÇ hashwarlock                            ‚îÇ
‚îÇ Email      ‚îÇ hashwarlock@usergroup.phala.network    ‚îÇ
‚îÇ Role       ‚îÇ admin                                  ‚îÇ
‚îÇ Team       ‚îÇ hashwarlock's projects (enterprise)    ‚îÇ
‚îÇ Credits    ‚îÇ $20                                    ‚îÇ
```

If you need to log out or switch accounts:

```bash
npx phala auth logout
# ‚úì API key removed successfully.
```

## Launch a Juptyer Notebook in CVM&#x20;

Now that we are authenticated to our Phala Cloud account with our API Key, let's deploy our first CVM

The process is easy as we have setup a `demo` command for you to try this out quickly.

```bash
phala demo
```

You‚Äôll have a list of demos to test, and we will try the Jupyter Notebook demo. This part of the guide is very simple. Run the command, sit back and watch the magic unfold.

```bash
phala demo
‚ü≥ Verifying your credentials... ‚úì
‚úì Logged in as hashwarlock
‚úî Select a template to deploy: Jupyter Notebook
‚úì Selected template: Jupyter Notebook
‚úî Enter a name for your CVM: Jupyter-Notebook
‚Ñπ Preparing to deploy your CVM...
‚ü≥ Preparing CVM configuration... ‚úì
‚ü≥ Creating your demo CVM... ‚úì
‚úì Demo CVM created successfully! üéâ

‚îÇ CVM ID              ‚îÇ 3751                                                                                              ‚îÇ
‚îÇ Name                ‚îÇ Jupyter-Notebook                                                                                  ‚îÇ
‚îÇ Status              ‚îÇ creating                                                                                          ‚îÇ
‚îÇ App ID              ‚îÇ app_ecc21474f89b47a8e33ecd4e53a0ed744fff4eb2                                                      ‚îÇ
‚îÇ App URL             ‚îÇ https://cloud.phala.network/dashboard/cvms/app_ecc21474f89b47a8e33ecd4e53a0ed744fff4eb2           ‚îÇ
‚îÇ Template            ‚îÇ Jupyter Notebook                                                                                  ‚îÇ
‚îÇ Resources           ‚îÇ 2 vCPUs, 2GB RAM, 20GB Storage                                                                    ‚îÇ
‚îÇ Jupyter Token       ‚îÇ e4d13458163d6b8314a9d976a55600ad                                                                  ‚îÇ
‚îÇ Access Instructions ‚îÇ Access your Jupyter notebook using the token above. Go to 'Network' tab to see the public URL.    ‚îÇ

‚úì Your demo is being created. You can check its status with:
phala cvms get app_ecc21474f89b47a8e33ecd4e53a0ed744fff4eb2
```

Congratulations! Your Jupyter Notebook is deployed! Let‚Äôs checkout the deployment and use the Jupyter Token to access our notebook. Go to the ‚ÄúNetwork‚Äù Tab:

<Frame>
    <img src="https://img0.phala.world/files/1c20317e-04a1-8008-9767-fe58091b1b69.jpg" alt="CVM Network tab showing public endpoint URL for Jupyter notebook access" />
</Frame>

Open in New Tab and enter the Jupyter Token generated for your Jupyter Notebook.

<Frame>
    <img src="https://img0.phala.world/files/1c20317e-04a1-80ef-89cd-fd41a11f63fa.jpg" alt="Jupyter notebook login page requesting authentication token" />
</Frame>

We are now inside the Jupyter Notebook!

<Frame>
    <img src="https://img0.phala.world/files/1c20317e-04a1-80da-bbbf-c3db53200b7f.jpg" alt="Jupyter notebook interface running inside Phala Cloud CVM" />
</Frame>

### Call TEE Native Functions

Let‚Äôs try a couple function to test with the [dstack python SDK](https://github.com/Dstack-TEE/dstack/tree/master/sdk/python):

* **Remote Attestation**
* **Key Derive with Key Management Service**

#### Install Dstack SDK

<Frame>
    <img src="https://img0.phala.world/files/1c20317e-04a1-80a1-91e9-fe32a4f39af9.jpg" alt="Installing dstack SDK in Jupyter notebook with pip install command" />
</Frame>

Now, we can use some sample code from the SDK README below to test out.

```python
from dstack_sdk import DstackClient
import hashlib

# Synchronous client
client = DstackClient()

# Get the information of the Base Image.
info = client.info()
print(info.app_id)  # Application ID
print(info.tcb_info.mrtd)  # Access TCB info directly
print(info.tcb_info.event_log[0].event)  # Access event log entries

# Get a deterministic key with path
key_result = client.get_key('my-app/encryption/v1')
print(key_result.key)  # Hex string
print(key_result.signature_chain)  # Signature chain
key_bytes = key_result.decode_key()  # Decode to bytes (32 bytes)

# Generate TDX quote (manually hash data if > 64 bytes)
data = b'some-data'
hash_value = hashlib.sha256(data).digest()
quote_result = client.get_quote(hash_value[:32])
print(quote_result.quote)  # TDX quote in hex format
print(quote_result.event_log)  # Event log
rtmrs = quote_result.replay_rtmrs()  # Replay RTMRs
```

We get the following result:

<Frame>
    <img src="https://img0.phala.world/files/1c20317e-04a1-80a4-b543-fe32e846cffb.jpg" alt="Dstack SDK output showing app ID, TCB info, and TEE quote generation results" />
</Frame>

#### Generate a Wallet on Ethereum and Solana

This is a great start, but let‚Äôs try something more specific like generating:

* **Ethereum Account**
* **Solana Keypair**

First, run `pip install "dstack-sdk[all]"` to get the right dependencies.

<Frame>
    <img src="https://img0.phala.world/files/1c20317e-04a1-80ae-907d-fe3f7dd15a3d.jpg" alt="Installing dstack SDK with all dependencies for wallet generation" />
</Frame>

Let's write some code to get an ETH and SOL account.

<Frame>
    <img src="https://img0.phala.world/files/1c20317e-04a1-80c5-ab56-eb68133d0dfd.jpg" alt="Jupyter notebook code generating Ethereum and Solana wallet addresses using TEE-derived keys" />
</Frame>

This is great! We have now shown we can interact with the TEE special functions for deriving keys through the key management service and generate remote attestations. We will have another blogpost to dive deeper into this information later, but to get a head start check out [Key Management Service Docs](https://phala.com/dstack/design-documents/key-management-protocol) and the [Attestation Guide for Dstack](https://github.com/Dstack-TEE/dstack/blob/master/attestation.mdx).

## Conclusion

Congratulations! You have deployed your first CVM into the Phala Cloud. Let's dive into some of the templates we have.
